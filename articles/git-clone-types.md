---
title: "Git Clone ãƒ¡ãƒ¢"
emoji: "ğŸ˜º"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ['git']
published: true
---


Git ãƒªãƒã‚¸ãƒˆãƒªã‚’ Clone ã™ã‚‹ã®ã«ã„ãã¤ã‹æ–¹æ³•ãŒã‚ã‚‹ã€‚ãã‚Œã®ãƒ¡ãƒ¢æ›¸ã

å…ƒ: [GIT ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‹ã‚‰è€ƒãˆã‚‹é–‹ç™ºæ‰‹æ³•ã®æ½®æµ -- speakerdeck.com](https://speakerdeck.com/yuukiyo/trends-in-development-methodology-from-the-latest-git-updates?slide=23)

- [git-scalar -- git-scm.com](https://git-scm.com/docs/scalar)


# Scalar

Git ã‚³ãƒãƒ³ãƒ‰ã‚’é€Ÿãã•ã›ã‚‹ã‚„ã¤ã€‚é…ã„ç†ç”±ã¯ã€ãƒªãƒã‚¸ãƒˆãƒªã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤§ãã™ãã‚‹ãŸã‚ Clone ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã€ãƒ•ã‚¡ã‚¤ãƒ«æ•°ãŒå¤šã„ã®ã§ git status ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã€ãªã©ã¨ã„ã£ãŸæ„Ÿã˜ã§é…ããªã‚‹ã€‚

é…ã•ã®å¯¾å‡¦ã¨ã—ã¦ã€Repository Clone ã¯ **Blobless Clone æ©Ÿèƒ½** ã‚’ä½¿ã£ã¦ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸå–å¾—ç¯„å›²ã‚’çµã£ã¦ã„ã‚‹ã€Cloneå¾Œã‚‚ **Sparse-checkout æ©Ÿèƒ½** ã‚’ä½¿ã£ã¦å¿…è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’çµã£ãŸã‚Šã€äºˆã‚Gitç®¡ç†ä¸‹ã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ **File System Monitor æ©Ÿèƒ½** ã«ã‚ˆã‚Šäº‹å‰ã«è¨ˆç®—ã—ã¦ã„ã‚‹ã€‚

# Clone

æ™®é€šã«é–‹ç™ºã™ã‚‹åˆ†ã«ã¯ Full-Clone ã§ã€éå»ã®åˆ†ã‚’å«ã‚ãŸå…¨ä»¶ã‚’å–å¾—ã—ã¦ãã‚‹ã€‚ã ãŒã€ãƒªãƒã‚¸ãƒˆãƒªå†…å®¹ãŒã§ã‹ã„ã€CIã§å‹•ã‹ã™ã®ã§éå»ã®åˆ†ã¯ä¸è¦ã€ãªã©ã¨ã„ã£ãŸç†ç”±ã§ HEAD ã—ã‹ä½¿ã‚ãªã„ã¨ãã‚‚ã‚ã‚‹ã€‚é–‹ç™ºã§ä½¿ã†ãŒã€ã§ã‹ã„ã®ã§æ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆã¯ Git2.38 ã§å…¥ã£ãŸæ–°ã—ã„æ©Ÿèƒ½ã® scalar ã‚’ä½¿ã†ã®ãŒã„ã„ã£ã½ã„

## Full Clone

`> git clone <repo>`

å…¨éƒ¨å–å¾—ã€‚æ™®é€šã«ä½¿ã†ã‚„ã¤ã€‚

## Blobless Clone

`> git clone --filter=blob:none <repo>`

HEAD ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã—ã€Commit ã¨ãã‚Œã‚‰ã® Tree ã‚‚å–å¾—ã™ã‚‹ãŒã€Headä»¥å¤–ã®Blob ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ï¼‰ã¯å–å¾—ã—ãªã„ã€‚

Scalarã§Cloneã™ã‚‹ã¨ã€ã“ã‚ŒãŒä½¿ã‚ã‚Œã‚‹ã£ã½ã„ã€‚

## Treeless Clone( Partial CLone )

`> git clone --filter=tree:0 <repo>`

HEAD ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯å…¨éƒ¨å–å¾—ã—ã¦ã€Commitã‚‚å–å¾—ã™ã‚‹ãŒã€**éå»ã®ãƒ„ãƒªãƒ¼ã¨ãƒ–ãƒ­ãƒ–ã¯å–å¾—ã—ãªã„**ã€‚é–‹ç™ºã§ä½¿ã†ã®ã¯éæ¨å¥¨ã€‚

## Shallow Clone

`> git clone --depth=1 --single-branch --branch=main <repo>`

ã“ã® git-clone ã ã¨ **HEAD ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã¿** å–å¾—ã™ã‚‹ã€‚Github ã§ zip ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸæ„Ÿã˜ã€‚åˆ©ç”¨ã¯éæ¨å¥¨ã€‚

